{
	"info": {
		"_postman_id": "6d17def8-8f9f-4dd9-8a3d-e028c570c7c3",
		"name": "Scalez",
		"description": "API for the endpoints of the Scalez app. Currently all of the endpoints are following the \"happy path\", meaning no error cases are currently being handled and everything is assumed to be successful. Once error cases are added, each endpoint will be put into a top level folder, and each error case will be given its own tab.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "New User",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2f5e97c4-5e7a-47b0-a0f0-c444a0787370",
						"exec": [
							"pm.test(\"Successful POST request\", function () {",
							"    pm.expect(pm.response.code).to.be.oneOf([201,202]);",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "1bb9df1e-f5ba-49b5-97eb-f75d9989b45d",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \"username\": \"efeldm16\", \"password\": \"aeiou\", \"firstname\" : \"Eric\", \"lastname\" : \"Feldman\"}"
				},
				"url": {
					"raw": "{{host}}/user/",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						""
					]
				},
				"description": "This request will create a new user. The request body will contain a JSON string containing the username, password, firstname, and lastname of the user. The response body will be raw text containing the username of the user. The response status should be 201 is successful.\n"
			},
			"response": [
				{
					"name": "New User",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{ \"username\": \"un\", \"password\": \"pw\", \"firstname\" : \"fn\", \"lastname\" : \"ln\"}"
						},
						"url": {
							"raw": "{{host}}/user/",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								""
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "\"efeldm16\""
				}
			]
		},
		{
			"name": "Delete User",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6b6cf724-f2bd-43c5-8f4b-084b3e1dc714",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}"
					]
				},
				"description": "This request will delete a user based of the username in the URL. The response status should be 204 if successful."
			},
			"response": [
				{
					"name": "Delete User",
					"originalRequest": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}"
							]
						}
					},
					"status": "No Content",
					"code": 204,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Change username",
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "\"eF96\""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}"
					]
				},
				"description": "This request will change the username of the user. The old username is specified in the URL and the new username is specified in the request body. The response status should 204 if successful."
			},
			"response": [
				{
					"name": "Change username",
					"originalRequest": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "\"new username\""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}"
							]
						}
					},
					"status": "OK",
					"code": 204,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "User login",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/login?username={{username}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"login"
					],
					"query": [
						{
							"key": "username",
							"value": "{{username}}"
						},
						{
							"key": "password",
							"value": "{{password}}",
							"disabled": true
						}
					]
				},
				"description": "This request will login the user based on the request body. The request body will contain a JSON string of the username and password of the user. The response body will contain the username of the user in plain text. The response status should be 200 if successful."
			},
			"response": [
				{
					"name": "User login",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/login?username={{username}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"login"
							],
							"query": [
								{
									"key": "username",
									"value": "{{username}}"
								},
								{
									"key": "password",
									"value": "{{password}}",
									"disabled": true
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "text",
					"header": [],
					"cookie": [],
					"body": "\"efeldm16\""
				}
			]
		},
		{
			"name": "User logout",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/logout",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"logout"
					]
				},
				"description": "This request will log out the user based on the request body. The username of the user is supplied in the URL. The response should be 204 if successful."
			},
			"response": [
				{
					"name": "User logout",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/logout",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"logout"
							]
						}
					},
					"status": "No Content",
					"code": 204,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Get recordings",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/recordings",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"recordings"
					]
				},
				"description": "This request will get all of the user's recordings. The response body will have a JSON string with that contains an array of audio files (audio files are arrays of integers) and an array of timestamps. The response status should be 200 if successful."
			},
			"response": [
				{
					"name": "Get recordings",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/recordings",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"recordings"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [],
					"cookie": [],
					"body": "{\n    \"recordings\": [\n        {\n            \"data\": [\n                1,\n                2,\n                3,\n                4\n            ],\n            \"timestamp\": \"1/1/18 11:11PM\",\n            \"score\": 10,\n            \"id\": 1,\n            \"isPublic\": true,\n            \"instrument\": \"piano\"\n        },\n        {\n            \"data\": [\n                4,\n                3,\n                2,\n                1\n            ],\n            \"timestamp\": \"2/2/18 11:11PM\",\n            \"score\": 10,\n            \"id\": 1,\n            \"isPublic\": true,\n            \"instrument\": \"piano\"\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "Get leaderboard",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/leaderboard",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"leaderboard"
					]
				},
				"description": "This request will get the leaderboard for the current user. This will allow the front end to display the scores over time. The response status should be 200 if successful."
			},
			"response": [
				{
					"name": "Get leaderboard",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/leaderboard",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"leaderboard"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [],
					"cookie": [],
					"body": "{\n    \"leaderboard\": {\n        \"eric\": 10,\n        \"gurion\": 5\n    }\n}"
				}
			]
		},
		{
			"name": "Score scale",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8862195f-e59e-444a-9cd1-fa95ad784d34",
						"exec": [
							"pm.test(\"Successful POST request\", function () {",
							"    pm.expect(pm.response.code).to.be.oneOf([201,200]);",
							"});",
							"",
							"pm.test(\"Content-Type is ‘application/json’\", () => pm.response.to.have.header(\"Content-Type\", \"application/json\"",
							"));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\"username\" : \"efeldm16\", \"file\" : [1.00, 2.00, 3.00, 4.00, 5.00], \"rate\" : 12000, \"frameCount\" : 10000}\n\n"
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/recording",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"recording"
					]
				},
				"description": "This request will send an audio file in the request body. This audio file will belong the user. The response body will contain the score. The response status should be 201 if completed."
			},
			"response": [
				{
					"name": "Score scale",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/recording",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"recording"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [],
					"cookie": [],
					"body": "{\n    \"score\": 10\n}"
				}
			]
		},
		{
			"name": "New audition",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/audition",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"audition"
					]
				},
				"description": "This request will create a new audition. The request body will contain the username of the auditonee, and the types of scales that should be played."
			},
			"response": [
				{
					"name": "New audition",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/audition",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"audition"
							]
						}
					},
					"status": "OK",
					"code": 204,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Complete audition",
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/audition/{{auditionID}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"audition",
						"{{auditionID}}"
					]
				},
				"description": "This request will complete an audition. The request body will contain the requested scales from the auditioner. The response status should be 200 if successful."
			},
			"response": [
				{
					"name": "Complete audition",
					"originalRequest": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/audition/{{auditionID}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"audition",
								"{{auditionID}}"
							]
						}
					},
					"status": "OK",
					"code": 204,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Get audition",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/audition/{{auditionID}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"audition",
						"{{auditionID}}"
					]
				},
				"description": "This request will get the audition specified by the ID in the URL. The response body should be 200 if successful."
			},
			"response": [
				{
					"name": "Get audition",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/audition/{{auditionID}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"audition",
								"{{auditionID}}"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [],
					"cookie": [],
					"body": "{\"auditioner\" : \"eric\", \"request\" : \"c scale\", \"deadline\" : \"1/1/18 10:00PM\"}"
				}
			]
		},
		{
			"name": "Get auditions",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/user/{{username}}/audition",
					"host": [
						"{{host}}"
					],
					"path": [
						"user",
						"{{username}}",
						"audition"
					]
				},
				"description": "This request will get all of the auditions for the specified user. The reponse status should be 200 if successful."
			},
			"response": [
				{
					"name": "Get auditions",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/user/{{username}}/audition",
							"host": [
								"{{host}}"
							],
							"path": [
								"user",
								"{{username}}",
								"audition"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [],
					"cookie": [],
					"body": "{\n    \"auditions\": [\n        {\n            \"auditioner\": \"eric\",\n            \"request\": \"c scale\",\n            \"deadline\": \"1/1/18 10:00PM\"\n        },\n        {\n            \"auditioner\": \"jake\",\n            \"request\": \"c scale\",\n            \"deadline\": \"2/2/18 10:00PM\"\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "Get global leaderboard",
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/leaderboard",
					"host": [
						"{{host}}"
					],
					"path": [
						"leaderboard"
					]
				},
				"description": "This will be used to get the global leaderboard of scores. The response status should be 200 if successful."
			},
			"response": [
				{
					"name": "Get global leaderboard",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{host}}/leaderboard",
							"host": [
								"{{host}}"
							],
							"path": [
								"leaderboard"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [],
					"cookie": [],
					"body": "{\n    \"leaderboard\": {\n        \"eric\": 10,\n        \"gurion\": 5\n    }\n}"
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "aa6c7fdf-a0b8-46e0-bcf3-7148c8958580",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "d7a80d58-7257-4c88-931e-53c808edc02c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}